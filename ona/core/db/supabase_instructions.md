# Инструкция по настройке Supabase для проекта ONA

## 1. Создание проекта в Supabase

1. Зарегистрируйтесь или войдите на [Supabase](https://supabase.com/)
2. Создайте новый проект:
   - Укажите название проекта (например, "ONA-Bot")
   - Выберите регион (предпочтительно ближайший к вашим пользователям)
   - Установите пароль для базы данных (сохраните его в надежном месте)
   - Нажмите "Create new project"

## 2. Настройка базы данных

1. После создания проекта перейдите в раздел "SQL Editor"
2. Нажмите "New Query" и вставьте SQL-код из файла `supabase_setup.sql`
3. Выполните запрос, нажав кнопку "RUN"

## 3. Получение API ключей

1. В левом меню перейдите в раздел "Project Settings" > "API"
2. Скопируйте значения:
   - URL: `https://your-project-id.supabase.co`
   - `anon` ключ (публичный)
3. Добавьте эти значения в файл `.env`:
   ```
   SUPABASE_URL=https://your-project-id.supabase.co
   SUPABASE_KEY=your-anon-key
   ```

## 4. Проверка настройки

1. Убедитесь, что все таблицы созданы, перейдя в раздел "Table Editor"
2. Проверьте, что Row Level Security включен для всех таблиц
3. Попробуйте выполнить через SQL Editor базовые операции:
   ```sql
   -- Добавление тестового пользователя
   INSERT INTO users (telegram_id, first_name, username) 
   VALUES (123456789, 'Test User', 'testuser');
   
   -- Проверка, что пользователь добавлен
   SELECT * FROM users;
   ```

## 5. Интеграция с приложением

Теперь вы можете использовать функции из `supabase_client.py` для взаимодействия с базой данных из вашего FastAPI приложения. 